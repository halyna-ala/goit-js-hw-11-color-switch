{"version":3,"sources":["JS/components/load-more-btn.js","index.js"],"names":["NewsApiService","constructor","searchQuery","fetchArticles","console","log","fetch","headers","Authorization","then","r","json","query","newQuery","refs","searchForm","document","querySelector","articleContainer","loadMoreBtn","newsApiService","addEventListener","onSaearch","onLoadMore","onSearch","e","preventDefoult","currentTarget","elements","value","fatchArticles"],"mappings":";;;AAAoC,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EAArB,MAAMA,EACjBC,cACSC,KAAAA,YAAc,GAIvBC,gBACIC,QAAQC,IAAI,MAQZC,MAFY,kFALI,CACZC,QAAS,CACLC,cAAe,sCAMtBC,KAAKC,GAAKA,EAAEC,QACZF,KAAKL,QAAQC,KAEdO,YACO,OAAA,KAAKV,YAEZU,UAAMC,GACDX,KAAAA,YAAcW,GAvBS,QAAA,QAAA;;ACoIpC,aApIA,QAAA,oBAyDA,IAAA,EAAA,EAAA,QAAA,kCA2EA,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAzEA,MAAMC,EAAO,CACTC,WAAYC,SAASC,cAAc,mBACnCC,iBAAkBF,SAASC,cAAc,0BAC7CE,YAAaH,SAASC,cAAc,8BAG9BG,EAAiB,IAAIpB,EAAJ,QACvBI,QAAQC,IAAIe,GAEZN,EAAKC,WAAWM,iBAAiB,SAAUC,WAC3CR,EAAKK,YAAYE,iBAAiB,QAASE,GAE3C,IAAIrB,EAAc,GAElB,SAASsB,EAASC,GACdA,EAAEC,iBAEHN,EAAeR,MAAQa,EAAEE,cAAcC,SAAShB,MAAMiB,MAErDT,EAAeU,gBAGnB,SAASP,IACLH,EAAeU","file":"src.06eaaf64.js","sourceRoot":"../src","sourcesContent":["export default class NewsApiService {\n    constructor() {\n        this.searchQuery = '';\n    }\n\n\n    fetchArticles() {\n        console.log(this);\n        const options = {\n            headers: {\n                Authorization: '4330ebfabc654a6992c2aa792f3173a3',\n            },\n        };\n        const url = 'http://newsapi.org/v2/everything?q=${this.searchQuery}&language=en&pageSize=5&p';\n    \n        fetch(url, options)\n        .then(r => r.json())\n        .then(console.log);\n    }\n    get query() {\n        return this.searchQuery;\n    }\n    set query(newQuery) {\n        this.searchQuery = newQuery\n    }\n    }\n","import './sass/main.scss';\n\n\n// const colors = [\n//     '#FFFFFF',\n//     '#2196F3',\n//     '#4CAF50',\n//     '#FF9800',\n//     '#009688',\n//     '#795548',\n//   ];\n\n//   const refs = {\n//     start: document.querySelector('button[data-start]'),\n//     stop: document.querySelector('button[data-stop]'),\n//     body: document.body,\n// }\n\n// const INTERVAL_DELAY = 1050;\n// let intervalId = null;\n\n\n// const getRandomHexColor = () => {\n//     return `#${Math.floor(Math.random() * 16777215).toString(16)}`;\n//   }\n\n//   refs.start.addEventListener('click', changeColor);\n// refs.stop.addEventListener('click', stopColor);\n\n// function changeColor () {\n//     intervalId = setInterval(() => {\n//         refs.body.style.background = getRandomHexColor();\n//     }, INTERVAL_DELAY);\n//     refs.start.disabled = true;\n// };\n\n// function stopColor() {\n//     clearInterval(intervalId);\n//     refs.start.disabled = false;\n// }\n\n\n/*\n * - Пагинация\n *   - страница и кол-во на странице\n * - Загружаем статьи при сабмите формы\n * - Загружаем статьи при нажатии на кнопку «Загрузить еще»\n * - Обновляем страницу в параметрах запроса\n * - Рисуем статьи\n * - Сброс значения при поиске по новому критерию\n *\n * https://newsapi.org/\n * 4330ebfabc654a6992c2aa792f3173a3\n * http://newsapi.org/v2/everything?q=cat&language=en&pageSize=5&page=1\n */\n\n// import './sass/main.css';\nimport NewsApiService from './JS/components/load-more-btn';\n\nconst refs = {\n    searchForm: document.querySelector('.js-search-form'),\n    articleContainer: document.querySelector('.ja-articles-container'),\nloadMoreBtn: document.querySelector('[data-acrion=\"load-more\"]'),\n};\n\nconst newsApiService = new NewsApiService();\nconsole.log(newsApiService);\n\nrefs.searchForm.addEventListener('submit', onSaearch);\nrefs.loadMoreBtn.addEventListener('click', onLoadMore);\n\nlet searchQuery = '';\n\nfunction onSearch(e) {\n    e.preventDefoult();\n\n   newsApiService.query = e.currentTarget.elements.query.value;\n\n    newsApiService.fatchArticles();\n}\n\nfunction onLoadMore() {\n    newsApiService.fatchArticles();\n\n}\n\n// import articlesTpl from './templates/articles.hbs';\n// import NewsApiService from './js/news-service';\n// import LoadMoreBtn from './js/components/load-more-btn';\n\n// const refs = {\n//   searchForm: document.querySelector('.js-search-form'),\n//   articlesContainer: document.querySelector('.js-articles-container'),\n// };\n// const loadMoreBtn = new LoadMoreBtn({\n//   selector: '[data-action=\"load-more\"]',\n//   hidden: true,\n// });\n// const newsApiService = new NewsApiService();\n\n// refs.searchForm.addEventListener('submit', onSearch);\n// loadMoreBtn.refs.button.addEventListener('click', fetchArticles);\n\n// function onSearch(e) {\n//   e.preventDefault();\n\n//   newsApiService.query = e.currentTarget.elements.query.value;\n\n//   if (newsApiService.query === '') {\n//     return alert('Введи что-то нормальное');\n//   }\n\n//   loadMoreBtn.show();\n//   newsApiService.resetPage();\n//   clearArticlesContainer();\n//   fetchArticles();\n// }\n\n// function fetchArticles() {\n//   loadMoreBtn.disable();\n//   newsApiService.fetchArticles().then(articles => {\n//     appendArticlesMarkup(articles);\n//     loadMoreBtn.enable();\n//   });\n// }\n\n// function appendArticlesMarkup(articles) {\n//   refs.articlesContainer.insertAdjacentHTML('beforeend', articlesTpl(articles));\n// }\n\n// function clearArticlesContainer() {\n//   refs.articlesContainer.innerHTML = '';\n// }"]}